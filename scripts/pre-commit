#!/bin/bash

# Pre-commit hook to run formatting and linting
echo "ğŸ” Running pre-commit checks..."

# Check if we're in a git repository
if ! git rev-parse --git-dir > /dev/null 2>&1; then
  echo "âŒ Not in a git repository"
  exit 1
fi

# Run Prettier check
echo "ğŸ“ Checking formatting with Prettier..."
if ! npm run format:check; then
  echo "âŒ Formatting issues found. Run 'npm run format' to fix them."
  exit 1
fi

# Run ESLint
echo "ğŸ” Running ESLint..."
if ! npm run lint; then
  echo "âŒ Linting issues found. Run 'npm run lint:fix' to fix auto-fixable issues."
  exit 1
fi

echo "âœ… All pre-commit checks passed!"
exit 0
